<?xml version="1.0" encoding="utf-8"?>
<ns:Pod xmlns:mx="http://www.adobe.com/2006/mxml"  xmlns:ns="com.esria.samples.dashboard.view.*" 
	title="首充[金额]视图" 
	width="100%" height="100%"
	horizontalScrollPolicy="off"
	verticalScrollPolicy="off"	
>
<mx:Script>
	<![CDATA[
		import mx.charts.HitData;
		import mx.charts.series.items.LineSeriesItem;
		import mx.controls.Alert;
		import mx.rpc.events.ResultEvent;
		import mx.collections.ArrayCollection;
		[Bindable]
		private var  datas:ArrayCollection=new ArrayCollection();
		[Bindable]
		public var  param:int;
		[Bindable]
		public var  start:Date=null;
		[Bindable]
		public var  end:Date=null;
		[Bindable]
		public var  total:int=0;
		public function init(total:int,list:ArrayCollection):void{
			this.total=total;
			datas=list;
		}
        
         private function dataTipFunction(o:HitData):String
			{
				var psi:LineSeriesItem=LineSeriesItem(o.chartItem);
				var s:String ="单次金额："+psi.item.singleRmb +"\n次数："+psi.item.timeNumber +"\n金额小计："+psi.item.totalRmb +"\n"+"金额占比："+ Math.round(psi.item.totalRmb*100/total) + "%";
				return s;
			}
	]]>
</mx:Script>
<mx:SeriesSlide id="slideIn" duration="1000" direction="up"/>
    <mx:SeriesSlide id="slideOut" duration="1000" direction="down"/>
	<mx:VBox  height="100%" width="100%">
		 <mx:LineChart id="linechart" color="0x323232" height="100%"
            showDataTips="true" dataProvider="{datas}" width="100%" dataTipFunction="dataTipFunction">
            <mx:horizontalAxis>
                <mx:CategoryAxis categoryField="singleRmb"/>
            </mx:horizontalAxis>

            <mx:series>
                <mx:LineSeries yField="totalRmb" form="curve" showDataEffect="{slideIn}" 
                    hideDataEffect="{slideOut}"/>
            </mx:series>
        </mx:LineChart>
    </mx:VBox>
</ns:Pod>
