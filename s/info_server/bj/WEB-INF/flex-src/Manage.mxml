<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" xmlns:window="window.*" backgroundColor="#f9f8f6" xmlns:common="common.*">
<mx:Script>
	<![CDATA[
		import event.GmUserLogoutEvent;
		import mx.events.CloseEvent;
		import mx.controls.Alert;
			import common.MenuEnum;
			import mx.events.MenuEvent;
			import event.LogSelectEvent;
			import mx.collections.ArrayCollection;
			import mx.rpc.events.ResultEvent;
			[Bindable]
			private var model:O2oModel = O2oModel.getInstance();
			public function init():void{
				mainScreenVS.selectedChild=maps;
			}
			public function onFlushClick(evt:MouseEvent):void{
				Alert.show("请在保存后休息一会再flush memcahed，现在要flush memcahed吗？","注意",Alert.YES|Alert.NO,this,alertHandler,null,Alert.NO);
			}
			private function alertHandler(evt:CloseEvent):void{
				if(evt.detail==Alert.YES){   //点了确认按钮
					deleteRo.flushAllCached();
        		}
			}
			public function handler(evt:ResultEvent):void{
		 	}
		 	public function flush():void{
		 		
		 	}
		 	
	]]>
</mx:Script>
	<mx:RemoteObject id="deleteRo" destination="ro.delete">
		<mx:method name="flushAllCached" result="handler(event)"/>
	</mx:RemoteObject>

	<common:Header level1Tabs="{mainScreenVS}">
	</common:Header>
		<mx:ViewStack id="mainScreenVS" width="100%" height="100%">
			<window:GmUserWindow label="{resourceManager.getString('Language','label.GM')}"/>
			<window:SysItemManageWindow id="sysItems" label="{resourceManager.getString('Language','label.SysItem')}" enabled="{model.PRIV_SYSITEM}"/>
			<window:CharacterWindow id="characters" label="{resourceManager.getString('Language','label.Character')}" enabled="{model.PRIV_CHARACTER}"/>
			<window:MapManagementWindow id="maps" label="{resourceManager.getString('Language','label.SysLevel')}" enabled="{model.PRIV_MAPS}" />
			<window:SysItemPriceManageWindow id="sysItemsPrice" label="{resourceManager.getString('Language','label.SysItemPayment')}" enabled="{model.PRIV_SYSITEM_PRICE}"/>
			<window:PlayerManagementWindow id="playerMg" label="{resourceManager.getString('Language','label.Player')}" enabled="{model.PRIV_PLAYER}"/>
			<window:ServerConfigWindow id="servers" label="{resourceManager.getString('Language','label.Servers')}" enabled="{model.PRIV_SERVER}"/>
			<window:SysConfigManageWindow id="configs" label="{resourceManager.getString('Language','label.SysConfig')}" enabled="{model.PRIV_SYSTEM_CONFIG}"/>
			<window:SysNoticeManageWindow id="sysNotice" label="{resourceManager.getString('Language','label.SysNotice')}" enabled="{model.PRIV_REGULAR_NOTICE}"/>
			<window:BlackIPManageWindow id="ip" label="{resourceManager.getString('Language','label.IpManager')}" enabled="{model.PRIV_BLACK_IP}"/>
			<window:BannedWordManage id="bannedWord" label="{resourceManager.getString('Language','label.KeyWords')}" enabled="{model.PRIV_BANNED_WORD}"/>
			<window:BlackWhiteUnspeakerWindow id="blackwhiteList" label="{resourceManager.getString('Language','label.BlackListAndUpSpeaker')}" enabled="{model.PRIV_BLACK_WHITE}"/>
			<window:TeamListWindow id="team" label="{resourceManager.getString('Language','label.Teams')}" enabled="{model.PRIV_TEAM_LOG}"/>
			<window:ActivityMainWindow id="activitys" label="{resourceManager.getString('Language','label.ActivityLuckPack')}" enabled="{model.PRIV_ACTIVITY}"/>
			<window:SysOnlineAwardMngmentWindow id="onlineAward" label="{resourceManager.getString('Language','label.OnlineAward')}" enabled="{model.PRIV_ONLINE_AWARD}"/>
			<window:SysStrengthenAppendManageWindow label="{resourceManager.getString('Language','label.Combine')}" enabled="{model.PRIV_STRENGTHEN_APPEND}"/>
		</mx:ViewStack>
</mx:VBox>
